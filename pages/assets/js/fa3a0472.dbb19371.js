"use strict";(self.webpackChunkspr_docs=self.webpackChunkspr_docs||[]).push([[8994],{21388:(e,i,r)=>{r.r(i),r.d(i,{assets:()=>h,contentTitle:()=>l,default:()=>p,frontMatter:()=>o,metadata:()=>d,toc:()=>u});var n=r(85893),s=r(11151),t=r(11256),a=r(5449);const o={sidebar_label:"Raspberry Pi 4/5 Model B Hardware Guide"},l="Raspberry Pi 4/5 Model B Hardware Guide",d={id:"setup_guides/pi4b",title:"Raspberry Pi 4/5 Model B Hardware Guide",description:"We also offer PI5 WiFi 6 Pods and PI4 Starter Kits",source:"@site/docs/setup_guides/pi4b.md",sourceDirName:"setup_guides",slug:"/setup_guides/pi4b",permalink:"/pages/docs/setup_guides/pi4b",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{sidebar_label:"Raspberry Pi 4/5 Model B Hardware Guide"},sidebar:"tutorialSidebar",previous:{title:"WiFi Pod Setup Guide",permalink:"/pages/docs/setup_guides/install"},next:{title:"Setup Guide",permalink:"/pages/docs/setup_guides/setup_run_spr"}},h={},u=[{value:"VPN Only (Virtual SPR)",id:"vpn-only-virtual-spr",level:2},{value:"Quick VPN Setup",id:"quick-vpn-setup",level:3},{value:"VPN Port Forwarding",id:"vpn-port-forwarding",level:3},{value:"WiFi Access Point / WiFi Router Mode:",id:"wifi-access-point--wifi-router-mode",level:2},{value:"Completing the Setup",id:"completing-the-setup",level:3},{value:"Post Setup Tasks",id:"post-setup-tasks",level:3},{value:"Follow the SPR Setup Guide",id:"follow-the-spr-setup-guide",level:3},{value:"Hardware Requirements",id:"hardware-requirements",level:2},{value:"Running SPR",id:"running-spr",level:3},{value:"Building from source",id:"building-from-source",level:3},{value:"Using a different wireless card",id:"using-a-different-wireless-card",level:3}];function c(e){const i={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.header,{children:(0,n.jsx)(i.h1,{id:"raspberry-pi-45-model-b-hardware-guide",children:"Raspberry Pi 4/5 Model B Hardware Guide"})}),"\n","\n",(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"row",padding:4,gap:8,marginBottom:20},children:[(0,n.jsx)("img",{src:a.Z,width:"400",alt:"PI4 Starter Kit"}),(0,n.jsx)("img",{src:t.Z,width:"400",alt:"PI4 Starter Kit"})]}),"\n",(0,n.jsxs)(i.p,{children:["We also offer ",(0,n.jsx)(i.a,{href:"/pages/articles/hardware/spr-wifi6-vpn-router-pod",children:"PI5 WiFi 6 Pods"})," and ",(0,n.jsx)(i.a,{href:"/pages/articles/hardware/spr-pi4-wifi-vpn-starter-kit",children:"PI4 Starter Kits"})]}),"\n",(0,n.jsx)(i.h2,{id:"vpn-only-virtual-spr",children:"VPN Only (Virtual SPR)"}),"\n",(0,n.jsxs)(i.p,{children:["SPR can run as a VPN server only. See the full ",(0,n.jsx)(i.a,{href:"/pages/docs/setup_guides/virtual_spr",children:"VPN Setup Guide"}),"."]}),"\n",(0,n.jsx)(i.p,{children:"When running in Virtual SPR mode it uses a virtual network, so the host system's firewall and network configuration is unaffected."}),"\n",(0,n.jsx)(i.h3,{id:"quick-vpn-setup",children:"Quick VPN Setup"}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{children:'sudo bash -c "$(curl -fsSL https://raw.github.com/spr-networks/super/master/virtual_install.sh)"\n'})}),"\n",(0,n.jsx)(i.h3,{id:"vpn-port-forwarding",children:"VPN Port Forwarding"}),"\n",(0,n.jsxs)(i.p,{children:["If there is a firewall ",(0,n.jsx)(i.strong,{children:"port 51280/udp"})," needs to be open for incoming traffic, and port forwarded to the device"]}),"\n",(0,n.jsx)(i.h2,{id:"wifi-access-point--wifi-router-mode",children:"WiFi Access Point / WiFi Router Mode:"}),"\n",(0,n.jsxs)(i.p,{children:["For running SPR on a Raspberry Pi 4/5, a pre-built image is available on the ",(0,n.jsx)(i.a,{href:"https://github.com/spr-networks/super/releases/",children:"releases page"}),"."]}),"\n",(0,n.jsxs)(i.p,{children:["You can download ",(0,n.jsx)(i.code,{children:"spr.img.xz"})," and flash it with a tool such as the ",(0,n.jsx)(i.a,{href:"https://github.com/raspberrypi/rpi-imager",children:"Raspberry Pi Imager"}),", or if you prefer to write the image using the command line:"]}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-bash",children:"# On a mac, write the image to the external disk (rdiskX).\n# Be careful to make sure you identify your removable drive correctly.\n$ xzcat spr.img.xz | dd of=/dev/rdiskX bs=$[1024*1024]\n"})}),"\n",(0,n.jsx)(i.h3,{id:"completing-the-setup",children:"Completing the Setup"}),"\n",(0,n.jsxs)(i.ol,{children:["\n",(0,n.jsx)(i.li,{children:"Plug in your Pi SPR to your local network using a ethernet cable, and boot"}),"\n",(0,n.jsxs)(i.li,{children:['On Pis, the built in WiFi hosts an open AP "sprlab-setup". Join the open AP and go to ',(0,n.jsx)(i.a,{href:"https://192.168.2.1",children:"https://192.168.2.1"})," or ",(0,n.jsx)(i.a,{href:"https://spr.local",children:"https://spr.local"}),"."]}),"\n",(0,n.jsxs)(i.li,{children:["Alternatively, without connecting to the open AP, visit ",(0,n.jsx)(i.a,{href:"https://spr.local",children:"https://spr.local"})," to run through the UI setup. This is a mDNS name, if it does not resolve: Check your router DHCP table to see if you can locate the Pi SPR or scan for it with ping/nmap."]}),"\n",(0,n.jsx)(i.li,{children:"The setup will guide you through configuring your SPR networking and adding your first device, as well as setting a UI password."}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"post-setup-tasks",children:"Post Setup Tasks"}),"\n",(0,n.jsxs)(i.ol,{children:["\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsx)(i.p,{children:"Enable DNS Ad Blocking and other DNS Blocklists for the network"}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsx)(i.p,{children:"Configure VPN Devices"}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsx)(i.p,{children:"Configure service reachability under the Firewall Services tab"}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"follow-the-spr-setup-guide",children:"Follow the SPR Setup Guide"}),"\n",(0,n.jsxs)(i.p,{children:["If you prefer to run on an existing image, or run from a fresh Ubuntu server install,\nyou can ",(0,n.jsx)(i.a,{href:"/docs/setup_guides/setup_run_spr",children:"Follow the SPR setup guide"})]}),"\n",(0,n.jsx)(i.h2,{id:"hardware-requirements",children:"Hardware Requirements"}),"\n",(0,n.jsx)(i.p,{children:"The current setup assumes you'll be using a Raspberry Pi Model 4b with an mt76 based wireless adapter.\nThe built-in ethernet port of the Raspberry Pi is connected to upstream/WAN/internet."}),"\n",(0,n.jsx)(i.h3,{id:"running-spr",children:"Running SPR"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["A WiFi Dongle for better performance and WPA3 support. The following WiFi6 dongles work great: ",(0,n.jsx)(i.a,{href:"https://www.amazon.com/dp/B0B94R78N7",children:"Netgear's A8000 6-E"}),", and the bulkier ",(0,n.jsx)(i.a,{href:"https://www.amazon.com/dp/B0BY8GMW32",children:"ALFA AWUS036AXML 6-E"}),".\nFor Wifi5: ",(0,n.jsx)(i.a,{href:"https://amzn.to/3wei0NY",children:"Netgear's A620"})," and ",(0,n.jsx)(i.a,{href:"https://amzn.to/3u6U5NS",children:"Alfa's AWUS036ACM"}),"."]}),"\n"]}),"\n",(0,n.jsx)(i.admonition,{title:"WiFi dongles",type:"info",children:(0,n.jsxs)(i.p,{children:["The WiFi 5 dongles have been tested to perform well with a ",(0,n.jsx)(i.em,{children:"500-550Mbps"})," top speed in a low noise environment and the WiFi 6 dongles can reach closer to ",(0,n.jsx)(i.em,{children:"700Mpbs"})," in a low noise environment."]})}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsxs)(i.p,{children:["A ",(0,n.jsx)(i.a,{href:"https://amzn.to/3ijDuAN",children:"USB SSD"})," works best. A 16GB SD card can also be used but is not recommended"]}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsx)(i.p,{children:"Ethernet cable for setup (and if you run uplink over the wire)"}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.em,{children:"Optional"})," An Ethernet USB Dongle for additional LAN devices since the built-in ethernet card (eth0) will be used for the WAN. The ",(0,n.jsx)(i.a,{href:"https://amzn.to/3qkuujo",children:"UE 300"})," has been tested to run near line speed on the Pi (",(0,n.jsx)(i.em,{children:"950Mbps"}),"). The ",(0,n.jsx)(i.a,{href:"https://www.amazon.com/TP-Link-Portable-Ethernet-Notebooks-UE330/dp/B01N9M32TA",children:"U3 330"})," also works and provides additional USB 3.0 ports."]}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.em,{children:"Optional"})," For running multiple WiFi adapters, a powered USB 3.0 capable hub is recommended"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(i.admonition,{type:"tip",children:(0,n.jsxs)(i.p,{children:["Grab the Complete Starter Kit for everything you need to get started ",(0,n.jsx)(i.a,{href:"https://www.supernetworks.org/devkit.html",children:"here"})]})}),"\n",(0,n.jsx)(i.h3,{id:"building-from-source",children:"Building from source"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"8 GB of RAM are recommended for building SPR on the Pi. Any amount of RAM can work for building but ramdisks have to be disabled in the docker build. The prebuilt GHCR has prebuilt SPR images available also."}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"using-a-different-wireless-card",children:"Using a different wireless card"}),"\n",(0,n.jsxs)(i.p,{children:["For using a different wireless adapter, the default hostapd configuration may need to be modified in the UI or in ",(0,n.jsx)(i.code,{children:"configs/wifi/"}),". Note that the built-in Raspberry Pi Wireless card can not be used as an AP by default as it does not support AP/VLAN, which is a feature that SPR relies on."]})]})}function p(e={}){const{wrapper:i}={...(0,s.a)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},5449:(e,i,r)=>{r.d(i,{Z:()=>n});const n=r.p+"assets/images/pi4b-4d119946c9ab02df338769c9e3c07852.jpg"},11256:(e,i,r)=>{r.d(i,{Z:()=>n});const n=r.p+"assets/images/raspberry-pi-5-4392804398df655c3ddd2322a330080a.webp"},11151:(e,i,r)=>{r.d(i,{Z:()=>o,a:()=>a});var n=r(67294);const s={},t=n.createContext(s);function a(e){const i=n.useContext(t);return n.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),n.createElement(t.Provider,{value:i},e.children)}}}]);