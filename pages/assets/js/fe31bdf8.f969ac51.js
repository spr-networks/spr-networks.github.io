"use strict";(self.webpackChunkspr_docs=self.webpackChunkspr_docs||[]).push([[2348],{28453:(e,s,n)=>{n.d(s,{R:()=>r,x:()=>a});var i=n(96540);const o={},c=i.createContext(o);function r(e){const s=i.useContext(c);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(c.Provider,{value:s},e.children)}},76056:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>u,contentTitle:()=>h,default:()=>f,frontMatter:()=>p,metadata:()=>i,toc:()=>g});const i=JSON.parse('{"id":"knowledgebase/groups","title":"Policies, groups and tags","description":"To isolate networks and devices SPR is using policies, groups and tags:","source":"@site/docs/knowledgebase/groups.md","sourceDirName":"knowledgebase","slug":"/knowledgebase/groups","permalink":"/pages/docs/knowledgebase/groups","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Making an API Extension","permalink":"/pages/docs/development/extension-dev"},"next":{"title":"Secure WiFi With Per Device Passphrases","permalink":"/pages/docs/knowledgebase/ppsk-wpa3-wifi-security"}}');var o=n(74848),c=n(28453);const r=n.p+"assets/images/spr-groups-lan-8f1b20cd4ea7a3efeaeee207234fe05e.png",a=n.p+"assets/images/spr-groups-wan-51890d15e98f45cbfd609ed36daed477.png",t=n.p+"assets/images/spr-groups-comm-fb4ecd2423bbe1e0a1a976ffb401bf88.png",l=n.p+"assets/images/spr-groups-comm-2-2068a9f77095dc9560cde3f2c5d62fdb.png",d=n.p+"assets/images/spr-groups-comm-docker-83f68540ad20f863663e49426d2b3ba4.png",p={sidebar_position:1},h="Policies, groups and tags",u={},g=[{value:"Policies",id:"policies",level:2},{value:"WAN policy",id:"wan-policy",level:3},{value:"LAN policy",id:"lan-policy",level:3},{value:"Groups",id:"groups",level:2},{value:"Use cases and examples",id:"use-cases-and-examples",level:3},{value:"Isolated IoT Devices",id:"isolated-iot-devices",level:4},{value:"Docker Service",id:"docker-service",level:4},{value:"Tags",id:"tags",level:2}];function x(e){const s={a:"a",admonition:"admonition",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.header,{children:(0,o.jsx)(s.h1,{id:"policies-groups-and-tags",children:"Policies, groups and tags"})}),"\n",(0,o.jsx)(s.p,{children:"To isolate networks and devices SPR is using policies, groups and tags:"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Policy"})," for network access, internet"]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Group"})," Fine grained access within networks, isolation"]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Tag"})," Control traffic, ad block"]}),"\n"]}),"\n",(0,o.jsx)(s.h2,{id:"policies",children:"Policies"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"wan"})," internet access"]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"dns"})," for domain lookups, block/filter dns"]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"lan"})," access to all other local devices"]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"lan_upstream"})," allows the device to query LAN addresses from ",(0,o.jsx)(s.a,{href:"https://datatracker.ietf.org/doc/html/rfc1918",children:"rfc1918"})," upstream of SPR"]}),"\n"]}),"\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.strong,{children:"wan"})," and ",(0,o.jsx)(s.strong,{children:"dns"})," is enabled by default. Add the device to ",(0,o.jsx)(s.strong,{children:"lan"})," sparingly, as this grants it access to all other devices. You can create groups and rules later for defining more specific access."]}),"\n","\n",(0,o.jsx)(s.h3,{id:"wan-policy",children:"WAN policy"}),"\n",(0,o.jsx)(s.p,{children:"Example WAN policy, devices with the policy can access internet:"}),"\n",(0,o.jsx)("img",{src:a,width:"75%"}),"\n",(0,o.jsx)(s.admonition,{title:"DNS policy",type:"info",children:(0,o.jsx)(s.p,{children:"dns policy is needed for dns lookups on wan network"})}),"\n",(0,o.jsx)(s.h3,{id:"lan-policy",children:"LAN policy"}),"\n",(0,o.jsx)(s.p,{children:"Example LAN policy, the two devices can talk to each other:"}),"\n",(0,o.jsx)("img",{src:r,width:"75%"}),"\n",(0,o.jsx)(s.h2,{id:"groups",children:"Groups"}),"\n",(0,o.jsx)(s.p,{children:"Devices assigned to a Group can intercommunicate (TCP, UDP & ICMP).\nA firewall rule can be used if only a particular port should be reachable."}),"\n",(0,o.jsx)(s.admonition,{title:"Device isolation",type:"info",children:(0,o.jsx)(s.p,{children:"If a device does not have the lan policy and is not in a group it's completely isolated."})}),"\n",(0,o.jsx)(s.h3,{id:"use-cases-and-examples",children:"Use cases and examples"}),"\n",(0,o.jsx)(s.p,{children:"In this example the work group can access devices within the phone group (using the lan policy), the work group is not visible for the phones:"}),"\n",(0,o.jsx)("img",{src:t,width:"75%"}),"\n",(0,o.jsx)(s.h4,{id:"isolated-iot-devices",children:"Isolated IoT Devices"}),"\n",(0,o.jsx)(s.p,{children:"Here Work group have the lan policy and can access all the groups, the phones and iot devices can't see each other or access the work environment:"}),"\n",(0,o.jsx)("img",{src:l,width:"75%"}),"\n",(0,o.jsx)(s.h4,{id:"docker-service",children:"Docker Service"}),"\n",(0,o.jsx)(s.p,{children:"Devices in the work group can access the docker service, but the service can't access any of the groups."}),"\n",(0,o.jsx)("img",{src:d,width:"75%"}),"\n",(0,o.jsx)(s.h2,{id:"tags",children:"Tags"}),"\n",(0,o.jsxs)(s.p,{children:["Tags can be used to apply blocklists for specific devices: ",(0,o.jsx)(s.a,{href:"/pages/docs/guides/dns#block-lists-tags",children:"Block Lists Tags"})]})]})}function f(e={}){const{wrapper:s}={...(0,c.R)(),...e.components};return s?(0,o.jsx)(s,{...e,children:(0,o.jsx)(x,{...e})}):x(e)}}}]);