"use strict";(self.webpackChunkspr_docs=self.webpackChunkspr_docs||[]).push([[9671],{47876:(e,i,r)=>{r.r(i),r.d(i,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>n,metadata:()=>o,toc:()=>c});var t=r(85893),s=r(11151);const n={sidebar_position:0,sidebar_label:"Welcome to SPR!"},a="SPR : A Secure Programmable Router",o={id:"intro",title:"SPR : A Secure Programmable Router",description:"SPR lets users run security-hardened networks without restrictive drawbacks by providing adaptive microsegmentation with flexibility.",source:"@site/docs/intro.md",sourceDirName:".",slug:"/intro",permalink:"/pages/docs/intro",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:0,frontMatter:{sidebar_position:0,sidebar_label:"Welcome to SPR!"},sidebar:"tutorialSidebar",next:{title:"Raspberry Pi 4 Model B Hardware Guide",permalink:"/pages/docs/setup_guides/pi4b"}},l={},c=[{value:"Fundamentally Secure",id:"fundamentally-secure",level:2},{value:"The Network Design",id:"the-network-design",level:2},{value:"Default deny",id:"default-deny",level:4},{value:"Zero-trust networking",id:"zero-trust-networking",level:4},{value:"Device isolation",id:"device-isolation",level:4},{value:"Best of class WiFi features",id:"best-of-class-wifi-features",level:4},{value:"Multicast Support",id:"multicast-support",level:4},{value:"Design Ethos",id:"design-ethos",level:2},{value:"Transparent and Modifiable",id:"transparent-and-modifiable",level:4},{value:"Containerized",id:"containerized",level:4},{value:"Sound Software Selection",id:"sound-software-selection",level:4},{value:"The Service Listing",id:"the-service-listing",level:2},{value:"API Extensions",id:"api-extensions",level:2}];function d(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",h4:"h4",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.a)(),...e.components},{Details:r}=i;return r||function(e,i){throw new Error("Expected "+(i?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.h1,{id:"spr--a-secure-programmable-router",children:"SPR : A Secure Programmable Router"}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"SPR"})," lets users run security-hardened networks without restrictive drawbacks by providing adaptive microsegmentation with flexibility."]}),"\n",(0,t.jsx)(i.h2,{id:"fundamentally-secure",children:"Fundamentally Secure"}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"SPR"})," is a new type of router, designed to be immune to network attacks that enable devices to breach laterally across networks which separates it from other networking technology. SPR addresses WiFi in particular, as it typically has weak security properties that SPR corrects through robust, defense-in-depth features. It also supports ",(0,t.jsx)(i.code,{children:"VLAN Tagging"})," for wired devices and ",(0,t.jsx)(i.code,{children:"Wireguard\u2122 VPN"})," clients."]}),"\n",(0,t.jsx)(i.h2,{id:"the-network-design",children:"The Network Design"}),"\n",(0,t.jsx)(i.h4,{id:"default-deny",children:"Default deny"}),"\n",(0,t.jsx)(i.p,{children:"The firewall drops forwarded and input packets by default. Devices are explicitly configured for communicating to the internet, accessing DNS, or intranet communications."}),"\n",(0,t.jsx)(i.h4,{id:"zero-trust-networking",children:"Zero-trust networking"}),"\n",(0,t.jsx)(i.p,{children:"Device identities are established via unique wifi passphrases, VLAN tagging on wired devices, and VPN keys. This creates a high source of confidence about how traffic is routed."}),"\n",(0,t.jsx)(i.h4,{id:"device-isolation",children:"Device isolation"}),"\n",(0,t.jsx)(i.p,{children:"Each device on the network is isolated into its own private network, and devices send traffic through the router to communicate."}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:(0,t.jsx)(i.p,{children:"How does this perform?"})}),(0,t.jsx)(i.p,{children:"There is a negligible latency tradeoff when devices do not directly communicate on local networks. The router arbitrates communication between devices for better control. The verdict maps, similar to ipsets, provide scalable rules without an exponential number of firewall rules that make traditional firewall rules prohibitively slow."})]}),"\n",(0,t.jsx)(i.h4,{id:"best-of-class-wifi-features",children:"Best of class WiFi features"}),"\n",(0,t.jsx)(i.p,{children:"Each device is given a unique WiFi passphrase to block traffic interception, injection, and rogue AP attacks that are otherwise possible with WiFi. Devices have unique group encryption keys and each device connects with an individual VLAN and virtual interface. SPR is also the very first project to support multiple passphrases with WPA3 on the same SSID."}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:(0,t.jsx)(i.p,{children:"What about Enterprise WiFi Security?"})}),(0,t.jsxs)(i.p,{children:["Among authentication suites, EAP-TLS is a recommended best practice and creates valid security properties. However, it requires installing certificates on devices which is not possible with many IOT or locked down devices, limiting the ability to harden their access. Rather than create MAC bypass holes, SPR uses the most commonly supported schemes that are universal to all wifi capable systems. Another common authentication mechanism is EAP-PEAP however this suffers from long standing MITM issues as ",(0,t.jsx)(i.a,{href:"https://www.ietf.org/archive/id/draft-josefsson-pppext-eap-tls-eap-10.txt",children:"PEAPv2"})," with channel binding to stop attacks was never formally adopted or fully supported by the industry; the PEAP relay attack applies after secure authentication has happened."]})]}),"\n",(0,t.jsx)(i.h4,{id:"multicast-support",children:"Multicast Support"}),"\n",(0,t.jsx)(i.p,{children:"Zeroconf and mDNS are both prevalent and a requisite for home networking. However, these require being on the same subnet to work or a router that supports IGMP forwarding or a proxy. SPR has a userland proxy to transparently relay multicast traffic between devices and across network interfaces. The firewall supports configuration for how to use multicast"}),"\n",(0,t.jsx)(i.h2,{id:"design-ethos",children:"Design Ethos"}),"\n",(0,t.jsx)(i.h4,{id:"transparent-and-modifiable",children:"Transparent and Modifiable"}),"\n",(0,t.jsxs)(i.p,{children:["SPR is built as an ",(0,t.jsx)(i.a,{href:"https://github.com/spr-networks/super",children:"open source"})," project. It is built to be developer friendly and allow iterative development without reflashing or reinstalling."]}),"\n",(0,t.jsx)(i.h4,{id:"containerized",children:"Containerized"}),"\n",(0,t.jsx)(i.p,{children:"Containers make it simple to build the code from scratch or run prebuilt images.\nThe containers split network services up by functionality and are orchestrated with\nAPIs. SPR is built to run as a WiFi router, but it can also be launched\nas a standalone VPN & DNS Service within a virtualized network namespace."}),"\n",(0,t.jsx)(i.h4,{id:"sound-software-selection",children:"Sound Software Selection"}),"\n",(0,t.jsx)(i.p,{children:"SPR is built mostly with golang and a react frontend. Where possible, memory-safe languages with good security track records are preferred over native code such as C or code that is difficult to write securely, like PHP."}),"\n",(0,t.jsx)(i.h2,{id:"the-service-listing",children:"The Service Listing"}),"\n",(0,t.jsx)(i.p,{children:"The following services are currently included with SPR:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"apis/overview",children:"api"})," \u21e8 API for frontends and CLIs to manage connected devices, network groups, and firewall rules"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"services/base",children:"base"})," \u21e8 Networking initialization and configuration at startup"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"services/db",children:"db"})," \u21e8 Database key/value store"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"services/dhcp",children:"dhcp"})," \u21e8 DHCP Server"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"services/dhcp_client",children:"dhcp_client"})," \u21e8 DHCP Client for requesting IP addresses from uplink"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"services/dns",children:"dns"})," \u21e8 DNS Service, running CoreDNS"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"services/multicast_proxy",children:"multicast_udp_proxy"})," \u21e8 A multicast proxy to support multicast networking for usability"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"services/packet_logs",children:"packet_logs"})," \u21e8 NFLog packet log emitter"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"services/ppp",children:"ppp"})," \u21e8 A Point-to-Point protocol service for authenticating and requesting IP addresses from uplink"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"services/superd",children:"superd"})," \u21e8 Daemon to manage docker comms and restarting SPR"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"services/wifid",children:"wifid"})," \u21e8 Wifi Base Station Service, running hostapd"]}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"api-extensions",children:"API Extensions"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"https://www.supernetworks.org/pages/api/0#tag/dnsblock",children:"DNS Block & Log"})," \u21e8 Fine grained DNS Rules & Logs"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"https://www.supernetworks.org/pages/api/0#tag/wireguard",children:"Wireguard"})," \u21e8 Configuration service for running a Wireguard VPN"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"https://www.supernetworks.org/pages/api/0#tag/lookup",children:"Lookup"})," \u21e8 OUI & ASN Lookup Service"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"https://www.supernetworks.org/pages/api/0#tag/dyndns",children:"Dyndns"})," \u21e8 Dyndns Service"]}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,s.a)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},11151:(e,i,r)=>{r.d(i,{Z:()=>o,a:()=>a});var t=r(67294);const s={},n=t.createContext(s);function a(e){const i=t.useContext(n);return t.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(n.Provider,{value:i},e.children)}}}]);