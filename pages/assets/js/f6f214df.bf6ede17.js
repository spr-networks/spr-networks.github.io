"use strict";(self.webpackChunkspr_docs=self.webpackChunkspr_docs||[]).push([[5784],{35179:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>d,toc:()=>c});var i=r(85893),t=r(11151);const s={},a="Banana BPI-R4 Setup Guide",d={id:"hardware/Banana-Pi/banana-pi-bpi-r4-wifi-vpn-router-spr",title:"Banana BPI-R4 Setup Guide",description:"<meta",source:"@site/articles/hardware/Banana-Pi/banana-pi-bpi-r4-wifi-vpn-router-spr.md",sourceDirName:"hardware/Banana-Pi",slug:"/hardware/Banana-Pi/banana-pi-bpi-r4-wifi-vpn-router-spr",permalink:"/pages/articles/hardware/Banana-Pi/banana-pi-bpi-r4-wifi-vpn-router-spr",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"mySidebar",previous:{title:"Banana BPI-R3 Setup Guide",permalink:"/pages/articles/hardware/Banana-Pi/banana-pi-bpi-r3-wifi-vpn-router-spr"},next:{title:"Rockchip Hardware Setup Guide",permalink:"/pages/articles/hardware/rockchip"}},o={},c=[{value:"Install a Docker Host System",id:"install-a-docker-host-system",level:2},{value:"Preparing your own build",id:"preparing-your-own-build",level:3},{value:"First Boot",id:"first-boot",level:4},{value:"VPN Only (Virtual SPR)",id:"vpn-only-virtual-spr",level:2},{value:"Quick VPN Setup",id:"quick-vpn-setup",level:3},{value:"VPN Port Forwarding",id:"vpn-port-forwarding",level:3},{value:"WiFi Access Point / WiFi Router",id:"wifi-access-point--wifi-router",level:2},{value:"Getting started quickly:",id:"getting-started-quickly",level:3},{value:"Need Help?",id:"need-help",level:2},{value:"The BPI R4 Hardware",id:"the-bpi-r4-hardware",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,t.a)(),...e.components},{Head:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Head",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"banana-bpi-r4-setup-guide",children:"Banana BPI-R4 Setup Guide"})}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("meta",{name:"description",content:"Turn your BPI-R4 into a powerful WiFi Router and VPN with Ad blocking using SPR. Follow this install guide"}),(0,i.jsx)("meta",{property:"og:description",content:"Turn your BPI-R4 into a powerful WiFi Router and VPN with Ad blocking using SPR. Follow this install guide"})]}),"\n",(0,i.jsx)(n.p,{children:"Turn your Banana Pi BPI-R4 into a WiFi Router, Secure VPN, or both with SPR. This guide will show you how."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"bpi-r4.webp",src:r(82111).Z+"",width:"780",height:"400"})}),"\n",(0,i.jsx)(n.h2,{id:"install-a-docker-host-system",children:"Install a Docker Host System"}),"\n",(0,i.jsx)(n.p,{children:"SPR can run on any host which supports Docker, however, it is best tested with Ubuntu"}),"\n",(0,i.jsxs)(n.p,{children:["You can install Ubuntu 24.04 images from ",(0,i.jsx)(n.a,{href:"https://wiki.banana-pi.org/Banana_Pi_BPI-R4#Ubuntu_24.04",children:"https://wiki.banana-pi.org/Banana_Pi_BPI-R4#Ubuntu_24.04"})]}),"\n",(0,i.jsx)(n.h3,{id:"preparing-your-own-build",children:"Preparing your own build"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"git clone -b gdrive-test https://github.com/frank-w/BPI-Router-Images\n./buildimg.sh bpi-r4 noble\ngunzip -c bpi-r4_sdmmc.img.gz | sudo dd bs=1M status=progress conv=notrunc,fsync of=/dev/sdX\n"})}),"\n",(0,i.jsx)(n.h4,{id:"first-boot",children:"First Boot"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"login\nuser: root password: bananapi\n\nssh root-login enabled (should be disabled after other users are created)\n\n/etc/ssh/sshd_config (open e.g. with nano): add # before PermitRootLogin=yes and restart ssh daemon\n\nsystemctl restart ssh\n"})}),"\n",(0,i.jsx)(n.h2,{id:"vpn-only-virtual-spr",children:"VPN Only (Virtual SPR)"}),"\n",(0,i.jsxs)(n.p,{children:["SPR can run as a VPN server only. See the full ",(0,i.jsx)(n.a,{href:"/pages/docs/setup_guides/virtual_spr",children:"VPN Setup Guide"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"When running in Virtual SPR mode it uses a virtual network, so the host system's firewall and network configuration is unaffected."}),"\n",(0,i.jsx)(n.h3,{id:"quick-vpn-setup",children:"Quick VPN Setup"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'sudo bash -c "$(curl -fsSL https://raw.github.com/spr-networks/super/master/virtual_install.sh)"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"vpn-port-forwarding",children:"VPN Port Forwarding"}),"\n",(0,i.jsxs)(n.p,{children:["If there is a firewall ",(0,i.jsx)(n.strong,{children:"port 51280/udp"})," needs to be open for incoming traffic, and port forwarded to the device"]}),"\n",(0,i.jsx)(n.h2,{id:"wifi-access-point--wifi-router",children:"WiFi Access Point / WiFi Router"}),"\n",(0,i.jsx)(n.p,{children:"When setting up SPR as a router it will configure the host device's network.\nSPR is distributed as source and as prebuilt docker images. You can get them started"}),"\n",(0,i.jsxs)(n.p,{children:["Follow the full ",(0,i.jsx)(n.a,{href:"/docs/setup_guides/setup_run_spr",children:"setup guide"})]}),"\n",(0,i.jsx)(n.h3,{id:"getting-started-quickly",children:"Getting started quickly:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/spr-networks/super\ncd super\nsudo ./base/scripts/setup.sh\nreboot\ncd ~/super/\ndocker compose up -d\n"})}),"\n",(0,i.jsx)(n.h2,{id:"need-help",children:"Need Help?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"/docs/contact",children:"Contact us"})," with any questions"]}),"\n",(0,i.jsx)(n.h2,{id:"the-bpi-r4-hardware",children:"The BPI R4 Hardware"}),"\n",(0,i.jsx)(n.p,{children:"The Banana Pi BPI-R4 will host wifi 7 AP cards for advanced high speed wifi capabilities."}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Component"}),(0,i.jsx)(n.th,{children:"Specification"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"CPU"}),(0,i.jsx)(n.td,{children:"MediaTek MT7988A (Filogic 880) Quad-core Arm Corex-A73, 1.8GHz processor"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"SDRAM"}),(0,i.jsx)(n.td,{children:"4 GB DDR4"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"On board Storage"}),(0,i.jsx)(n.td,{children:"MicroSD (TF) card, 128MB SPI NAND, 8GB eMMC"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"GPIO"}),(0,i.jsx)(n.td,{children:"26 Pin GPIO, some of which can be used for specific functions including UART, I2C, SPI, PWM, I2S"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"On board Network"}),(0,i.jsx)(n.td,{children:"4 Port 10/100/1000Mbps Ethernet"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"SFP"}),(0,i.jsx)(n.td,{children:"2x10G SFP"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"mini PCIE"}),(0,i.jsx)(n.td,{children:"2x miniPCIe slots with PCIe3.0 2lane interface for BPI Wi-Fi 7 NIC (Network Interface Card)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"M.2 interface"}),(0,i.jsx)(n.td,{children:"1x M.2 KEY-B slot with USB3.2/PCIe3.0 interface for 5G, 1x M.2 KEY-M slot with PCIe3.0 1lane interface for NVME SSD"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"USB"}),(0,i.jsx)(n.td,{children:"1xUSB 3.2 slot"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Buttons"}),(0,i.jsx)(n.td,{children:"Reset button, WPS button, boot switch"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"LEDs"}),(0,i.jsx)(n.td,{children:"Power status LED and RJ45 LED"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"DC Power"}),(0,i.jsx)(n.td,{children:"12V/5.2A or 19V 3.2A (The power consumption will not exceed 10W without any peripheral equipment, and 12V/2A can be used)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Sizes"}),(0,i.jsx)(n.td,{children:"100.5x148mm same as Banana Pi BPI-R64 and Banana Pi BPI-R2"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Weight"}),(0,i.jsx)(n.td,{children:"250g"})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},82111:(e,n,r)=>{r.d(n,{Z:()=>i});const i=r.p+"assets/images/bpi-r4-a782d08efa0c8d2ef41d22d59a2a7560.webp"},11151:(e,n,r)=>{r.d(n,{Z:()=>d,a:()=>a});var i=r(67294);const t={},s=i.createContext(t);function a(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);