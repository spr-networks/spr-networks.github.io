"use strict";(self.webpackChunkspr_docs=self.webpackChunkspr_docs||[]).push([[2122],{5120:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/screenshot_traffic-2f69a0c1ea6d51d18677a11246c41bdd.png"},5324:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/screenshot_login-d6eccf46d43c7a5a3cdd6d7872ff7415.png"},28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>l});var i=s(96540);const r={},t=i.createContext(r);function o(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(t.Provider,{value:n},e.children)}},61076:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/screenshot_dns_blocklist-579c25c2088d86938ca50e098f225501.png"},74522:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"setup_guides/virtual_spr","title":"SPR VPN Setup Guide","description":"SPR runs as a VPN, self-hosted or with Cloud Providers.","source":"@site/docs/setup_guides/virtual_spr.md","sourceDirName":"setup_guides","slug":"/setup_guides/virtual_spr","permalink":"/pages/docs/setup_guides/virtual_spr","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_label":"SPR VPN","sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Raspberry Pi","permalink":"/pages/docs/setup_guides/pi4b"},"next":{"title":"Docker WiFi Router","permalink":"/pages/docs/setup_guides/setup_run_spr"}}');var r=s(74848),t=s(28453);const o={sidebar_label:"SPR VPN",sidebar_position:3},l="SPR VPN Setup Guide",c={},a=[{value:"<strong>Key VPN Features</strong>",id:"key-vpn-features",level:4},{value:"Quick VPN Setup",id:"quick-vpn-setup",level:2},{value:"Cloud Provider Setup",id:"cloud-provider-setup",level:2},{value:"Host network configuration",id:"host-network-configuration",level:3},{value:"Sign in to the Web UI",id:"sign-in-to-the-web-ui",level:3},{value:"Add a VPN peer",id:"add-a-vpn-peer",level:3},{value:"Configure the VPN client on your device",id:"configure-the-vpn-client-on-your-device",level:2},{value:"Admin interface",id:"admin-interface",level:2},{value:"Modify Blocklists",id:"modify-blocklists",level:2},{value:"View traffic",id:"view-traffic",level:2},{value:"Manual configuration",id:"manual-configuration",level:2},{value:"Run install script",id:"run-install-script",level:3},{value:"Configuration",id:"configuration",level:3},{value:"Start the SPR Services",id:"start-the-spr-services",level:3},{value:"DNS Notes",id:"dns-notes",level:2},{value:"Virtual SPR Install Script info",id:"virtual-spr-install-script-info",level:4}];function d(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components},{Details:i}=n;return i||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"spr-vpn-setup-guide",children:"SPR VPN Setup Guide"})}),"\n",(0,r.jsx)(n.p,{children:"SPR runs as a VPN, self-hosted or with Cloud Providers."}),"\n",(0,r.jsx)(n.h4,{id:"key-vpn-features",children:(0,r.jsx)(n.strong,{children:"Key VPN Features"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"AdBlocking for Mobile with Wireguard\u2122 Access"}),"\n",(0,r.jsx)(n.li,{children:"DNS & Traffic Monitoring"}),"\n",(0,r.jsx)(n.li,{children:"Policy Based Network Access"}),"\n",(0,r.jsxs)(n.li,{children:["Friendly UI, see the ",(0,r.jsx)(n.a,{href:"https://demo.supernetworks.org/",children:"UI Demo"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["SPR also ",(0,r.jsx)(n.a,{href:"/pages/docs/setup_guides/setup_run_spr",children:"runs as a WiFi Router & Firewall"})]}),"\n",(0,r.jsx)(n.admonition,{title:"Prebuilt images for cloud providers",type:"info",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://marketplace.digitalocean.com/apps/spr",children:"DigitalOcean Marketplace"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://aws.amazon.com/marketplace/pp/prodview-btrmy3vaqxmqk",children:"AWS Marketplace"})}),"\n"]})}),"\n",(0,r.jsx)(n.h2,{id:"quick-vpn-setup",children:"Quick VPN Setup"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:'sudo bash -c "$(curl -fsSL https://raw.github.com/spr-networks/super/master/virtual_install.sh)"\n'})}),"\n",(0,r.jsx)(n.admonition,{title:"Virtual Networking",type:"tip",children:(0,r.jsxs)(n.p,{children:["When SPR is used as a VPN we recommend the virtual network option with ",(0,r.jsx)(n.code,{children:"docker-compose-virt.yml"}),".\nThis runs the SPR services and firewall separately from the host system's network.\nThe quick setup script takes care of this."]})}),"\n",(0,r.jsx)(n.h2,{id:"cloud-provider-setup",children:"Cloud Provider Setup"}),"\n",(0,r.jsx)(n.p,{children:"You can host SPR with our Cloud Provider guides:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/pages/docs/guides/virtual/setup_one_click",children:"DigitalOcean 1-click"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/pages/docs/guides/virtual/setup_digitalocean",children:"DigitalOcean"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/pages/docs/guides/virtual/setup_amazon_aws",children:"Amazon AWS"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/pages/docs/guides/virtual/setup_google_cloud",children:"Google Cloud"})}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"host-network-configuration",children:"Host network configuration"}),"\n",(0,r.jsx)(n.admonition,{title:"VPN Port Forwarding",type:"note",children:(0,r.jsxs)(n.p,{children:["If there is a firewall ",(0,r.jsx)(n.strong,{children:"port 51280/udp"})," needs to be open for incoming traffic, and port forwarded to the device."]})}),"\n",(0,r.jsx)(n.p,{children:"Your source ip address need to be able to access the host running spr on port 51280/udp.\nFor setup in the cloud, see the blog specific vendor guides for network configuration:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/pages/blog/virtual-spr-on-a-gcloud-tier-free-instance#firewall-rules-for-vpn-access",children:"Google Cloud"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/pages/blog/virtual-spr-on-a-aws-micro-tier-instance#allow-vpn-access",children:"Amazon AWS"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/pages/blog/virtual-spr-on-a-digital-ocean-droplet",children:"Digital Ocean"})}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"sign-in-to-the-web-ui",children:"Sign in to the Web UI"}),"\n",(0,r.jsx)(n.p,{children:"The API is setup to listen on localhost:8000 on the host.\nTo access the service from your local machine, forward port 8000 using ssh:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ssh $HOST -N -L 8000:127.0.0.1:8000\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Navigate to ",(0,r.jsx)(n.a,{href:"http://localhost:8000/%5D",children:"http://localhost:8000/"})]}),"\n",(0,r.jsx)(n.p,{children:"Sign in with the username and password assigned in step 3 of the configuration."}),"\n",(0,r.jsx)(n.h3,{id:"add-a-vpn-peer",children:"Add a VPN peer"}),"\n",(0,r.jsxs)(n.p,{children:["In the SPR web UI, navigate to VPN and click ",(0,r.jsx)(n.strong,{children:"Add peer"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Click ",(0,r.jsx)(n.strong,{children:"Save"})," and download the client config or scan the QR Code on your phone with the official ",(0,r.jsx)(n.a,{href:"https://www.wireguard.com/install/",children:"WireGuard"})," (",(0,r.jsx)(n.em,{children:"\xa9 Jason A. Donenfeld"}),") client."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Note"})})," SPR exposes port 51280 over UDP (see ",(0,r.jsx)(n.code,{children:"$WIREGUARD_PORT"})," in config.sh) on the host.\nIf a firewall is present you will need to allow access to this port. Check the documentation for your hosting provider on how to do this."]}),"\n",(0,r.jsx)(n.h2,{id:"configure-the-vpn-client-on-your-device",children:"Configure the VPN client on your device"}),"\n",(0,r.jsxs)(n.p,{children:["Install ",(0,r.jsx)(n.a,{href:"https://www.wireguard.com/install/",children:"WireGuard"})," (",(0,r.jsx)(n.em,{children:"\xa9 Jason A. Donenfeld"}),"):"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"apt install wireguard"})," for ubuntu. Official clients for ",(0,r.jsx)(n.a,{href:"https://download.wireguard.com/windows-client/wireguard-installer.exe",children:"Windows"}),", ",(0,r.jsx)(n.a,{href:"https://itunes.apple.com/us/app/wireguard/id1451685025?ls=1&mt=12",children:"macOS"}),", ",(0,r.jsx)(n.a,{href:"https://itunes.apple.com/us/app/wireguard/id1441195209?ls=1&mt=8",children:"iOS"}),", ",(0,r.jsx)(n.a,{href:"https://play.google.com/store/apps/details?id=com.wireguard.android",children:"Android"}),"."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"For iOS and Android"})}),"\n",(0,r.jsxs)(n.p,{children:["Scan the QR Code in the official WireGuard App (",(0,r.jsx)(n.a,{href:"https://itunes.apple.com/us/app/wireguard/id1441195209?ls=1&mt=8",children:"iOS"}),", ",(0,r.jsx)(n.a,{href:"https://play.google.com/store/apps/details?id=com.wireguard.android",children:"Android"}),") to import your VPN profile."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Linux, macOS and Windows"})}),"\n",(0,r.jsxs)(n.p,{children:["Click ",(0,r.jsx)(n.em,{children:'"Add empty tunnel..."'})," paste the config and set a name for the tunnel. Or, if you saved the config to a file:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Open your WireGuard client and click ",(0,r.jsx)(n.em,{children:'"Import tunnel(s) from file"'})]}),"\n",(0,r.jsx)(n.li,{children:"Select the wg.conf file"}),"\n",(0,r.jsx)(n.li,{children:"Click Activate"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"admin-interface",children:"Admin interface"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:s(5324).A+"",width:"1998",height:"1010"})}),"\n",(0,r.jsxs)(n.p,{children:["Make sure you're connected to the VPN endpoint & browse to ",(0,r.jsx)(n.a,{href:"http://192.168.2.1",children:"http://192.168.2.1"})," to access the admin interface."]}),"\n",(0,r.jsxs)(n.p,{children:["Login using the credentials shown in the output from the script or if you set the password manually (",(0,r.jsx)(n.em,{children:"NOTE"})," you can check the login info by running ",(0,r.jsx)(n.code,{children:"SKIP_VPN=1 ./virtual_install.sh"}),")."]}),"\n",(0,r.jsx)(n.p,{children:"If you prefer to use curl:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:'$ export TOKEN="BASE64-TOKEN-FROM-OUTPUT"\n$ curl -s -H "Authorization: Bearer $TOKEN" 192.168.2.1/devices\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Check out the ",(0,r.jsx)(n.a,{href:"https://www.supernetworks.org/pages/api/0#section/Introduction",children:"documentation"})," to get started using the SPR API."]}),"\n",(0,r.jsx)(n.h2,{id:"modify-blocklists",children:"Modify Blocklists"}),"\n",(0,r.jsxs)(n.p,{children:["In the admin interface you can enable more blocklists by clicking ",(0,r.jsx)(n.em,{children:"Blocklists/Ad-block"})," under DNS:\n",(0,r.jsx)(n.img,{src:s(61076).A+"",width:"1974",height:"940"})]}),"\n",(0,r.jsxs)(n.p,{children:["SPR comes bundled with the hosts file from ",(0,r.jsx)(n.a,{href:"https://github.com/StevenBlack/hosts",children:"https://github.com/StevenBlack/hosts"})," and the blocklists from the ",(0,r.jsx)(n.a,{href:"https://github.com/blocklistproject/Lists",children:"https://github.com/blocklistproject/Lists"})," repository, including:\n",(0,r.jsx)(n.em,{children:"redirect, ads, facebook, twitter, malware, porn, redirect, tracking, youtube, everything"})]}),"\n",(0,r.jsx)(n.p,{children:"If something is missing you can always add custom blocklists or block specific domains."}),"\n",(0,r.jsx)(n.h2,{id:"view-traffic",children:"View traffic"}),"\n",(0,r.jsxs)(n.p,{children:["Navigate to ",(0,r.jsx)(n.em,{children:"DNS Log"})," in the DNS category, select the client to get a log of domains:\n",(0,r.jsx)(n.img,{src:s(92781).A+"",width:"1990",height:"944"})]}),"\n",(0,r.jsxs)(n.p,{children:["Here you can also add more blocks, domain overrides if you want to allow something temporarily, delete logs or disable them completely under ",(0,r.jsx)(n.em,{children:"Settings"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["It is also possible to get more detail traffic for connections under ",(0,r.jsx)(n.em,{children:"Traffic"}),":\n",(0,r.jsx)(n.img,{src:s(5120).A+"",width:"2086",height:"880"})]}),"\n",(0,r.jsx)(n.h2,{id:"manual-configuration",children:"Manual configuration"}),"\n",(0,r.jsxs)(n.p,{children:["We recommend using SPR VPN with ",(0,r.jsx)(n.code,{children:"docker-compose-virt.yml"}),", so the host system's firewall and network configuration is unaffected.\nThis will download the ",(0,r.jsx)(n.a,{href:"https://github.com/spr-networks/super",children:"SPR repository"})," and run ",(0,r.jsx)(n.em,{children:"virtual_install.sh"}),".\nThe script will install dependencies, start all the containers and add one peer that can connect to the VPN.\nSee the next section for a walkthrough of the script."]}),"\n",(0,r.jsx)(n.p,{children:"If  you would like to proceed through the setup yourself, follow the setups below"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"What you need"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"A linux server running Ubuntu 24.04, that can run docker"}),"\n",(0,r.jsxs)(n.li,{children:["If there is a firewall ",(0,r.jsx)(n.em,{children:"port 51280/udp"})," needs to be open for incoming traffic"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://www.wireguard.com/install/",children:"WireGuard"})," (",(0,r.jsx)(n.em,{children:"\xa9 Jason A. Donenfeld"}),") installed on your client phone or desktop","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"apt install wireguard"})," for ubuntu"]}),"\n",(0,r.jsxs)(n.li,{children:["Official clients for ",(0,r.jsx)(n.a,{href:"https://download.wireguard.com/windows-client/wireguard-installer.exe",children:"Windows"}),", ",(0,r.jsx)(n.a,{href:"https://itunes.apple.com/us/app/wireguard/id1451685025?ls=1&mt=12",children:"macOS"}),", ",(0,r.jsx)(n.a,{href:"https://itunes.apple.com/us/app/wireguard/id1441195209?ls=1&mt=8",children:"iOS"}),", ",(0,r.jsx)(n.a,{href:"https://play.google.com/store/apps/details?id=com.wireguard.android",children:"Android"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Clone the super repository"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/spr-networks/super.git\n"})}),"\n",(0,r.jsx)(n.h3,{id:"run-install-script",children:"Run install script"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsxs)(n.em,{children:["Note: if you prefer to do this manually, skip this section and continue with the ",(0,r.jsx)(n.a,{href:"#manual-configuration",children:"manual setup"})]}),"."]}),"\n",(0,r.jsx)(n.p,{children:"Install all dependencies and start the containers but skip adding a vpn peer:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"cd super/\nSKIP_VPN=1 ./virtual_install.sh\n"})}),"\n",(0,r.jsxs)(n.p,{children:["You can find  ",(0,r.jsx)(n.a,{href:"https://github.com/spr-networks/super/blob/main/virtual_install.sh",children:"the script source"})," and more details are ",(0,r.jsx)(n.a,{href:"#virtual-spr-install-script-info",children:"at the end of this guide"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Populate the configuration directory"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cd super\ncp -R base/template_configs/ configs/\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsxs)(n.strong,{children:["Enable virtual config in ",(0,r.jsx)(n.code,{children:"configs/base/config.sh"})]})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cp configs/base/virtual-config.sh configs/base/config.sh\n"})}),"\n",(0,r.jsx)(n.p,{children:"Example configuration:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"#!/bin/sh\nVIRTUAL_SPR=1\nUPSTREAM_SERVICES_ENABLE=1\nWANIF=eth0\nRUN_WAN_DHCP=true\nRUN_WAN_DHCP_IPV=4\nLANIP=192.168.2.1\nDNSIP=$LANIP\nTINYNETSTART=192.168.2.4\nTINYNETSTOP=192.168.2.255\nTINYNETMASK=255.255.255.252\nTINYSLASHMASK=30\nWIREGUARD_PORT=51280\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Set an api username and password for the web UI"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'echo "{\\"admin\\" : \\"your password goes here\\"}" > configs/auth/auth_users.json\n'})}),"\n",(0,r.jsx)(n.h3,{id:"start-the-spr-services",children:"Start the SPR Services"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker compose -f docker-compose-virt.yml up -d\n"})}),"\n",(0,r.jsxs)(n.p,{children:["The services should now run and you can continue ",(0,r.jsx)(n.a,{href:"#sign-in-to-the-web-ui",children:"by signing in to the web ui"}),"."]}),"\n",(0,r.jsx)(n.admonition,{title:"MacOS logging",type:"note",children:(0,r.jsxs)(n.p,{children:["On MacOS you may need to modify docker-compose-virt.yml to disable the ",(0,r.jsx)(n.code,{children:"journald"})," driver and enable the ",(0,r.jsx)(n.code,{children:"json-file"})," driver instead."]})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Optional"})})," Copy the virtual config for easier control of the docker containers:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cp docker-compose-virt.yml docker-compose.yml\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Now you can run ",(0,r.jsx)(n.code,{children:"docker compose restart"})," in the super directory to restart all the containers."]}),"\n",(0,r.jsx)(n.h2,{id:"dns-notes",children:"DNS Notes"}),"\n",(0,r.jsxs)(n.p,{children:["SPR is configured to use ",(0,r.jsx)(n.em,{children:"DNS over HTTPs"})," when resolving domains. You can modify the Coredns configuration in the ui by navigating to ",(0,r.jsx)(n.em,{children:"DNS -> DNS Settings"})," or by editing ",(0,r.jsx)(n.code,{children:"configs/dns/Corefile"}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"virtual-spr-install-script-info",children:"Virtual SPR Install Script info"}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(n.p,{children:"Virtual SPR Install Script info"})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Run Virtual Installer"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:'sudo bash -c "$(curl -fsSL https://raw.github.com/spr-networks/super/master/virtual_install.sh)"\n'})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"What the script does"})}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["downloads the latest SPR repository from ",(0,r.jsx)(n.a,{href:"https://github.com/spr-networks/super/",children:"https://github.com/spr-networks/super/"})]}),"\n",(0,r.jsx)(n.li,{children:"downloads prebuilt docker images"}),"\n",(0,r.jsx)(n.li,{children:"generate default configs"}),"\n",(0,r.jsx)(n.li,{children:"setup admin password and auth token for API access"}),"\n",(0,r.jsx)(n.li,{children:"start SPR"}),"\n",(0,r.jsx)(n.li,{children:"add a VPN peer and output the WireGuard config"}),"\n"]}),(0,r.jsx)(n.p,{children:"You can also download the script if you want to check it out or add blocklists for ads:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"curl -s -O https://raw.githubusercontent.com/spr-networks/super/main/virtual_install.sh\nchmod +x virtual_install.sh\nsudo DNS_BLOCK=hosts,ads,tracking,redirects ./virtual_install.sh\n"})}),(0,r.jsxs)(n.p,{children:["See ",(0,r.jsx)(n.a,{href:"https://github.com/blocklistproject/Lists",children:"here"})," for available blocklists."]}),(0,r.jsx)(n.p,{children:"Example to block DNS requests to adservers and social media:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"sudo DNS_BLOCK=ads,tracking,facebook,tiktok ./virtual_install.sh\n"})}),(0,r.jsxs)(n.p,{children:["If you want to change the admin password you can edit the file ",(0,r.jsx)(n.code,{children:"configs/base/auth_users.json"})]}),(0,r.jsx)(n.p,{children:"Running the script you should see login info, a QR Code & the WireGuard client config. Example:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"...\n[+] WireGuard config: (save this as wg.conf & import in client)\n----------------------------------------------------------\n\n[Interface]\nPrivateKey = privkey\nAddress = 192.168.2.94\nDNS = 192.168.2.1\n\n[Peer]\nPublicKey = pubkey\nAllowedIPs = 0.0.0.0/0, ::/0\nEndpoint = 198.211.120.224:51280\nPersistentKeepalive = 25\nPresharedKey = psk\n"})}),(0,r.jsx)(n.p,{children:"If you want to connect to the VPN using a desktop client, save the config as wg.conf on your local computer."}),(0,r.jsx)(n.p,{children:"Example to install all dependencies and start the containers but skip vpn setup:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"SKIP_VPN=1 ./virtual_install.sh\n"})})]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},92781:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/screenshot_dns_log-370b2aa4ba0241c3e494facd7d4dcec9.png"}}]);