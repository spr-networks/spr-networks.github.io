"use strict";(self.webpackChunkspr_docs=self.webpackChunkspr_docs||[]).push([[8994],{45439:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>c,frontMatter:()=>t,metadata:()=>a,toc:()=>d});var s=i(85893),r=i(11151);const t={sidebar_label:"Raspberry Pi 4/5 Model B Hardware Guide"},o="Raspberry Pi 4/5 Model B Hardware Guide",a={id:"setup_guides/pi4b",title:"Raspberry Pi 4/5 Model B Hardware Guide",description:"Raspberry Pi 4/5 Model B",source:"@site/docs/setup_guides/pi4b.md",sourceDirName:"setup_guides",slug:"/setup_guides/pi4b",permalink:"/pages/docs/setup_guides/pi4b",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{sidebar_label:"Raspberry Pi 4/5 Model B Hardware Guide"},sidebar:"tutorialSidebar",previous:{title:"Welcome to SPR!",permalink:"/pages/docs/intro"},next:{title:"Setup Guide",permalink:"/pages/docs/setup_guides/setup_run_spr"}},l={},d=[{value:"Hardware Requirements",id:"hardware-requirements",level:2},{value:"Running SPR",id:"running-spr",level:3},{value:"Building from source",id:"building-from-source",level:3},{value:"Using a different wireless card",id:"using-a-different-wireless-card",level:3},{value:"Install the SPR Pi 4/5 Image",id:"install-the-spr-pi-45-image",level:2},{value:"Completing the Setup",id:"completing-the-setup",level:3},{value:"Post Setup Tasks",id:"post-setup-tasks",level:3},{value:"Follow the SPR Setup Guide",id:"follow-the-spr-setup-guide",level:3}];function h(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"raspberry-pi-45-model-b-hardware-guide",children:"Raspberry Pi 4/5 Model B Hardware Guide"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://images.prismic.io/rpf-products/3a15d4da-46e3-4940-8be6-9fc7d201affe_RPi_4B_FEATURED.jpg",alt:"Raspberry Pi 4/5 Model B"})}),"\n",(0,s.jsx)(n.h2,{id:"hardware-requirements",children:"Hardware Requirements"}),"\n",(0,s.jsx)(n.p,{children:"The current setup assumes you'll be using a Raspberry Pi Model 4b with an mt76 based wireless adapter.\nThe built-in ethernet port of the Raspberry Pi is connected to upstream/WAN/internet."}),"\n",(0,s.jsx)(n.h3,{id:"running-spr",children:"Running SPR"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["A WiFi Dongle for better performance and WPA3 support. The following WiFi6 dongles work great: ",(0,s.jsx)(n.a,{href:"https://www.amazon.com/dp/B0B94R78N7",children:"Netgear's A8000 6-E"}),", and the bulkier ",(0,s.jsx)(n.a,{href:"https://www.amazon.com/dp/B0BY8GMW32",children:"ALFA AWUS036AXML 6-E"}),".\nFor Wifi5: ",(0,s.jsx)(n.a,{href:"https://amzn.to/3wei0NY",children:"Netgear's A620"})," and ",(0,s.jsx)(n.a,{href:"https://amzn.to/3u6U5NS",children:"Alfa's AWUS036ACM"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{title:"WiFi dongles",type:"info",children:(0,s.jsxs)(n.p,{children:["The WiFi 5 dongles have been tested to perform well with a ",(0,s.jsx)(n.em,{children:"500-550Mbps"})," top speed in a low noise environment and the WiFi 6 dongles can reach closer to ",(0,s.jsx)(n.em,{children:"700Mpbs"})," in a low noise environment."]})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["A ",(0,s.jsx)(n.a,{href:"https://amzn.to/3ijDuAN",children:"USB SSD"})," works best. A 16GB SD card can also be used but is not recommended"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Ethernet cable for setup (and if you run uplink over the wire)"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"Optional"})," An Ethernet USB Dongle for additional LAN devices since the built-in ethernet card (eth0) will be used for the WAN. The ",(0,s.jsx)(n.a,{href:"https://amzn.to/3qkuujo",children:"UE 300"})," has been tested to run near line speed on the Pi (",(0,s.jsx)(n.em,{children:"950Mbps"}),"). The ",(0,s.jsx)(n.a,{href:"https://www.amazon.com/TP-Link-Portable-Ethernet-Notebooks-UE330/dp/B01N9M32TA",children:"U3 330"})," also works and provides additional USB 3.0 ports."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"Optional"})," For running multiple WiFi adapters, a powered USB 3.0 capable hub is recommended"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsxs)(n.p,{children:["Grab the Complete Starter Kit for everything you need to get started ",(0,s.jsx)(n.a,{href:"https://www.supernetworks.org/devkit.html",children:"here"})]})}),"\n",(0,s.jsx)(n.h3,{id:"building-from-source",children:"Building from source"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"8 GB of RAM are recommended for building SPR on the Pi. Any amount of RAM can work for building but ramdisks have to be disabled in the docker build. The prebuilt GHCR has prebuilt SPR images available also."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"using-a-different-wireless-card",children:"Using a different wireless card"}),"\n",(0,s.jsxs)(n.p,{children:["For using a different wireless adapter, the default hostapd configuration may need to be modified in the UI or in ",(0,s.jsx)(n.code,{children:"configs/wifi/"}),". Note that the built-in Raspberry Pi Wireless card can not be used as an AP by default as it does not support AP/VLAN, which is a feature that SPR relies on."]}),"\n",(0,s.jsx)(n.h2,{id:"install-the-spr-pi-45-image",children:"Install the SPR Pi 4/5 Image"}),"\n",(0,s.jsxs)(n.p,{children:["For running SPR on a Raspberry Pi 4/5, a pre-built image is available on the ",(0,s.jsx)(n.a,{href:"https://github.com/spr-networks/super/releases/",children:"releases page"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["You can download ",(0,s.jsx)(n.code,{children:"spr.img.xz"})," and flash it with a tool such as ",(0,s.jsx)(n.a,{href:"https://www.balena.io/etcher/",children:"Balena Etcher"}),", or if you prefer to write the image using the command line:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# On a mac, write the image to the external disk (rdiskX).\n# Be careful to make sure you identify your removable drive correctly.\n$ xzcat spr.img.xz | dd of=/dev/rdiskX bs=$[1024*1024]\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsxs)(n.p,{children:["If you use Balena Etcher be sure to download the image first and choose ",(0,s.jsx)(n.em,{children:"Flash from file"}),"."]})}),"\n",(0,s.jsx)(n.h3,{id:"completing-the-setup",children:"Completing the Setup"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Plug in your Pi SPR to your local network using a ethernet cable, and boot"}),"\n",(0,s.jsxs)(n.li,{children:['On Pis, the built in WiFi hosts an open AP "sprlab-setup". Join the open AP and go to ',(0,s.jsx)(n.a,{href:"https://192.168.2.1",children:"https://192.168.2.1"})," or ",(0,s.jsx)(n.a,{href:"https://spr.local",children:"https://spr.local"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Alternatively, without connecting to the open AP, visit ",(0,s.jsx)(n.a,{href:"https://spr.local",children:"https://spr.local"})," to run through the UI setup. This is a mDNS name, if it does not resolve. Check your router DHCP table to see if you can locate the Pi SPR or scan for it with ping/nmap."]}),"\n",(0,s.jsx)(n.li,{children:"The setup will guide you through configuring your SPR networking and adding your first device, as well as setting a UI password."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"post-setup-tasks",children:"Post Setup Tasks"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["SSH in and change the default password",(0,s.jsx)(n.br,{}),"\n","Default credentials for ssh are:\n",(0,s.jsx)(n.code,{children:"ubuntu:ubuntu"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Enable DNS Ad Blocking and other DNS Blocklists for the network"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Consider disabling HTTP access to the API under the Services tab"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{title:"Upstream services",type:"note",children:(0,s.jsxs)(n.p,{children:["Under ",(0,s.jsx)(n.code,{children:"/home/spr/super/config/base/config.sh"}),", consider disabling ",(0,s.jsx)(n.code,{children:"UPSTREAM_SERVICES_ENABLE=1"})," if you do not want the API and SSH exposed to the WAN ethernet interface. This can also be toggled under the Firewall Services tab in the UI."]})}),"\n",(0,s.jsx)(n.h3,{id:"follow-the-spr-setup-guide",children:"Follow the SPR Setup Guide"}),"\n",(0,s.jsxs)(n.p,{children:["If you prefer to run on an existing image, or run from a fresh Ubuntu server install,\nyou can ",(0,s.jsx)(n.a,{href:"/docs/setup_guides/setup_run_spr",children:"Follow the SPR setup guide"})]})]})}function c(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},11151:(e,n,i)=>{i.d(n,{Z:()=>a,a:()=>o});var s=i(67294);const r={},t=s.createContext(r);function o(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);